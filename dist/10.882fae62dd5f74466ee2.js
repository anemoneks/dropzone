(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{X3zk:function(t,o,r){"use strict";r.r(o),r.d(o,"LoginModule",(function(){return g}));var e=r("ofXK"),n=r("3Pt+"),i=r("tyNb"),s=r("LPYB"),l=r("esnh"),c=function(){return function(){this.username=null,this.password=null,this.rememberPassword=!1}}(),a=r("fXoL"),u=r("1kSV"),m=["content3"];function b(t,o){1&t&&(a.Pb(0,"div",14),a.Cc(1," Username must not be empty. "),a.Ob())}function f(t,o){1&t&&(a.Pb(0,"div",14),a.Cc(1," Password must not be empty. "),a.Ob())}function p(t,o){1&t&&(a.Pb(0,"div",15),a.Pb(1,"h4",16),a.Cc(2,"User Authentication"),a.Ob(),a.Pb(3,"button",17),a.ac("click",(function(){return o.$implicit.dismiss("Cross click")})),a.Pb(4,"span",18),a.Cc(5,"\xd7"),a.Ob(),a.Ob(),a.Ob(),a.Pb(6,"div",19),a.Pb(7,"p"),a.Cc(8,"Failed to authenticate."),a.Ob(),a.Ob(),a.Pb(9,"div",20),a.Pb(10,"button",21),a.ac("click",(function(){return o.$implicit.close("Close click")})),a.Cc(11,"Close"),a.Ob(),a.Ob())}var d=[{path:"",data:{title:"Login",urls:[{title:"Login",url:"/login"},{title:"Login"}]},component:function(){function t(t,o,r,e,n){this.modalService=t,this.route=o,this.router=r,this.formBuilder=e,this.HttpClientUserService=n,this.loginForm=this.formBuilder.group(new c),this.returnUrl="/"}return t.prototype.f=function(){return this.loginForm},t.prototype.ngOnInit=function(){var t=this;this.route.queryParams.subscribe((function(o){return t.returnUrl=""==(o.returnUrl||"").trim()?"/":""}));var o=localStorage.getItem("username")||"",r=localStorage.getItem("password")||"";this.loginForm.controls.username.setValue(o),this.loginForm.controls.password.setValue(r),this.loginForm.controls.rememberPassword.setValue(""!=o),this.loginForm.controls.username.setValidators(n.u.required),this.loginForm.controls.password.setValidators(n.u.required)},t.prototype.openSm=function(t){this.modalService.open(t,{size:"sm"})},t.prototype.login=function(){var t=this,o=(this.loginForm.get("username").value||"").trim(),r=(this.loginForm.get("password").value||"").trim(),e=this.loginForm.get("rememberPassword").value||!1;this.loginForm.valid&&this.HttpClientUserService.signIn(o,r).subscribe((function(n){n.success?(localStorage.setItem("jwtToken",n.token),e?(localStorage.setItem("username",o),localStorage.setItem("password",r)):(localStorage.removeItem("username"),localStorage.removeItem("password")),t.route.queryParams.subscribe((function(t){return window.location.href=t.returnUrl}))):t.openSm(t.content3)}))},t.\u0275fac=function(o){return new(o||t)(a.Kb(u.t),a.Kb(i.a),a.Kb(i.f),a.Kb(n.c),a.Kb(l.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-login"]],viewQuery:function(t,o){var r;1&t&&a.Gc(m,!0),2&t&&a.rc(r=a.bc())&&(o.content3=r.first)},decls:24,vars:3,consts:[[1,"login-form"],[3,"formGroup"],[1,"text-center"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"form-group"],["type","text","formControlName","username","placeholder","Username",1,"form-control"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"clearfix"],[1,"float-left","form-check-label"],["type","checkbox","formControlName","rememberPassword"],["href","#",1,"float-right"],["content3",""],["href","#"],["role","alert",1,"alert","alert-danger"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"]],template:function(t,o){1&t&&(a.Pb(0,"div",0),a.Pb(1,"form",1),a.Pb(2,"h2",2),a.Cc(3,"Log in"),a.Ob(),a.Ac(4,b,2,0,"div",3),a.Ac(5,f,2,0,"div",3),a.Pb(6,"div",4),a.Lb(7,"input",5),a.Ob(),a.Pb(8,"div",4),a.Lb(9,"input",6),a.Ob(),a.Pb(10,"div",4),a.Pb(11,"button",7),a.ac("click",(function(){return o.login()})),a.Cc(12,"Log in"),a.Ob(),a.Ob(),a.Pb(13,"div",8),a.Pb(14,"label",9),a.Lb(15,"input",10),a.Cc(16," Remember me"),a.Ob(),a.Pb(17,"a",11),a.Cc(18,"Forgot Password?"),a.Ob(),a.Ob(),a.Ac(19,p,12,0,"ng-template",null,12,a.Bc),a.Ob(),a.Pb(21,"p",2),a.Pb(22,"a",13),a.Cc(23,"Create an Account"),a.Ob(),a.Ob(),a.Ob()),2&t&&(a.xb(1),a.kc("formGroup",o.loginForm),a.xb(3),a.kc("ngIf",null==o.f().controls.username||null==o.f().controls.username.errors?null:o.f().controls.username.errors.required),a.xb(1),a.kc("ngIf",null==o.f().controls.password||null==o.f().controls.password.errors?null:o.f().controls.password.errors.required))},directives:[n.w,n.m,n.g,e.m,n.b,n.l,n.f,n.a],styles:[".login-form[_ngcontent-%COMP%]{width:340px;margin:50px auto;font-size:15px}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:15px;background:#f7f7f7;box-shadow:0 2px 2px rgba(0,0,0,.3);padding:30px}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px}.btn[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{min-height:38px;border-radius:2px}.btn[_ngcontent-%COMP%]{font-size:15px;font-weight:700}"]}),t}()}],g=function(){function t(){}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(o){return new(o||t)},imports:[[n.i,n.r,e.b,i.i.forChild(d),s.a]]}),t}()}}]);